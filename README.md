# docker_n2n_v3
å…¨éƒ¨åŸºäºdockerä½¿ç”¨n2n-v3æ­å»ºè™šæ‹Ÿå±€åŸŸç½‘ï¼Œæä¾›çš„æœåŠ¡ç«¯ï¼Œå®¢æˆ·ç«¯çš„docker imageï¼Œä½¿ç”¨actionsè‡ªåŠ¨ç¼–è¯‘æ¨é€ï¼Œå…·ä½“å‘å¸ƒç‰ˆè¯·åœ¨Packageä¸­å¯»æ‰¾ghcr.ioé•œåƒåœ°å€ã€‚æ³¨æ„ï¼š(use docker to deploy n2n supernode on your own cloud server and get a private virtual intranet for your machines) 
## proxy åŠ é€Ÿ
åœ¨`/etc/docker/daemon.json`çš„[registry-mirrors]å­—æ®µæ·»åŠ  "https://ghcr.nju.edu.cn" , è®°å¾—éœ€è¦`sudo systemctl daemon-reload && sudo systemctl restart docker` æ¥é‡å¯docker
## supernode å¯åŠ¨
``` bash
# è®°å¾—ä¿è¯ä½ çš„N2N_PORTå·²ç»æ·»åŠ åˆ°é˜²ç«å¢™å‡†å…¥è§„åˆ™
N2N_PORT=31119 
docker run -d \
  --name SuperNode \
  -p $N2N_PORT:$N2N_PORT/udp \
  -p $N2N_PORT:$N2N_PORT/tcp \
  -e type=supernode \
  -e listenport=$N2N_PORT \
  --restart=unless-stopped \
  zeyutt/docker_n2n_v3:latest
```
## edge å¯åŠ¨
``` bash
# åŠ¡å¿…è‡ªå®šä¹‰ä¿®æ”¹ä»¥ä¸‹å˜é‡
ServerIP=? # å¡«å…¥supernodeå®¿ä¸»æœºçš„IPåœ°å€
EDGE_IP=10.100.0.11
COMMUNITY=my_comm
COMMUNITY_KEY=Not_n2n_Default

docker run -d \
  --privileged \
  --net=host \
  --name edge0 \
  -e type=edge \
  -e interfaceaddress=$EDGE_IP \
  -e communityname=$COMMUNITY \
  -e Encryptionkey=$COMMUNITY_KEY \
  -e supernodenet=$ServerIP:$N2N_PORT\
  zeyutt/docker_n2n_v3:latest
```

## ğŸ”’ â€‹ç½‘ç»œå®‰å…¨æé†’ä¸å…è´£å£°æ˜â€‹
### âš ï¸ â€‹å®‰å…¨è­¦ç¤ºâ€‹
â€‹é£é™©è‡ªæ‹…â€‹ï¼šæœ¬è½¯ä»¶æŒ‰â€œåŸæ ·â€æä¾›ï¼Œå¼€å‘è€…åŠè´¡çŒ®è€…ä¸æ‰¿æ‹…å› ä½¿ç”¨ã€è¯¯ç”¨æˆ–é…ç½®ä¸å½“å¯¼è‡´çš„ä»»ä½•ç›´æ¥/é—´æ¥æŸå¤±ï¼ˆåŒ…æ‹¬æ•°æ®æ³„éœ²ã€æœåŠ¡ä¸­æ–­ç­‰ï¼‰ã€‚
â€‹æ¼æ´é£é™©â€‹ï¼šå¼€æºè½¯ä»¶å¯èƒ½å­˜åœ¨æœªçŸ¥å®‰å…¨ç¼ºé™·ï¼Œç”¨æˆ·åº”è‡ªè¡Œè¯„ä¼°é£é™©ï¼Œå¿…è¦æ—¶è¿›è¡Œå®‰å…¨å®¡è®¡æˆ–æ¸—é€æµ‹è¯•ã€‚
â€‹ç½‘ç»œæš´éœ²â€‹ï¼šéƒ¨ç½²æœåŠ¡å¯èƒ½æš´éœ²äºå…¬ç½‘æ”»å‡»ï¼Œè¯·ç¡®ä¿ï¼š
- å¯ç”¨é˜²ç«å¢™è§„åˆ™
- å®šæœŸæ›´æ–°è‡³æœ€æ–°ç‰ˆæœ¬
- é¿å…ä½¿ç”¨å¼±å¯†ç æˆ–é»˜è®¤å‡­è¯
### ğŸ“œ â€‹å…è´£æ¡æ¬¾â€‹
â€‹è´£ä»»é™åˆ¶â€‹ï¼šå¼€å‘è€…ä¸å¯¹åŠŸèƒ½çš„å®Œæ•´æ€§ã€é€‚ç”¨æ€§æˆ–å®‰å…¨æ€§ä½œä»»ä½•æ˜ç¤º/æš—ç¤ºçš„æ‹…ä¿ã€‚
â€‹åˆæ³•ä½¿ç”¨â€‹ï¼šç”¨æˆ·éœ€ç¡®ä¿éµå®ˆæ‰€åœ¨å›½å®¶/åœ°åŒºçš„æ³•å¾‹æ³•è§„ï¼Œâ€‹ç¦æ­¢ç”¨äºéæ³•æ´»åŠ¨â€‹ï¼ˆå¦‚ç½‘ç»œæ”»å‡»ã€æ•°æ®çªƒå–ç­‰ï¼‰ã€‚
â€‹ç¬¬ä¸‰æ–¹ä¾èµ–â€‹ï¼šæœ¬è½¯ä»¶å¯èƒ½ä¾èµ–å…¶ä»–å¼€æºç»„ä»¶ï¼Œå…¶å®‰å…¨æ€§è¯·å‚è€ƒå„è‡ªå®˜æ–¹å£°æ˜ã€‚
### ğŸ›¡ï¸ â€‹ç”¨æˆ·ä¹‰åŠ¡â€‹
â€‹ä¸»åŠ¨é˜²æŠ¤â€‹ï¼šå®šæœŸç›‘æ§æ—¥å¿—ã€å¤‡ä»½æ•°æ®ã€éš”ç¦»ç”Ÿäº§ç¯å¢ƒã€‚
â€‹ç¤¾åŒºæ”¯æŒâ€‹ï¼šé—®é¢˜åé¦ˆè¯·é€šè¿‡Issuesæäº¤ï¼Œâ€‹ä¸æä¾›å®æ—¶åº”æ€¥å“åº”ã€‚
